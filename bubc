#!/bin/bash

set -e -f -u -o pipefail

# Sleep between commands to reduce the chance of errors like:
# "Error: Another active Homebrew update process is already in progress."
brew() {
  command brew "$@"
  sleep 1
}

brew update
# Separately upgrade formula and casks so I can force bottles.
brew upgrade --force-bottle --formula
brew upgrade --cask
brew cleanup
